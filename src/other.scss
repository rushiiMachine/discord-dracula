/****** Inbox popout ******/

// Remove border from messages
div[class^="layerContainer_"] {
	div[class^="messages_"],
	div[class^="messageContainer_"],
	{
		border: none;
		border-radius: 8px !important;
	}
}

// Better padding for Friend Requests tab
div[data-list-id="for-you"] {
	margin-top: var(--spacing-16);
	margin-bottom: var(--spacing-16);
}

div[class*="recentMentionsPopout_"] {
	// Make it larger
	min-height: 90vh;
	max-height: 100vh !important;
	min-width: 600px;

	// Better colors
	--background-surface-high: var(--dracula-tertiary);
	--background-surface-higher: var(--dracula-secondary);

	box-shadow: var(--shadow-high);

	// Fix avatars/guild icons rounding
	div[class*="guildIcon_"],
	img[class^="dmIcon_"] {
		border-radius: 100%;
		background-color: transparent;
	}

	// Better header padding
	div[class^="channelHeader_"] {
		padding-left: 38px;
	}

	div[class^="collapseButton_"] {
		padding-left: 12px;
	}

	// Better spacing for tabs
	div[class^="tabBar_"] {
		padding: 0 26px;
		justify-content: space-between;

		// Hover text color for tab
		--text-primary: var(--dracula-accent-light);
	}

	// Friend requests button badge
	div[class^="numberBadge_"] {
		background-color: var(--status-danger) !important;
	}
}

/****** Pinned popout ******/

.visual-refresh div[class^="messagesPopoutWrap_"] {
	max-height: 90vh !important;
	width: 600px;

	div[class^="messagesPopout_"] {
		padding: 12px 8px 8px 16px !important;
	}

	div[class^="messageGroupWrapper_"] {
		border: none;
		border-radius: 8px;
		padding-left: 4px;
	}
}

/****** Channel topic popout ******/

div[class^="modal_"] {
	border: none !important;
	border-radius: 8px !important;
	padding-bottom: 8px;
}

/****** DM Channel user sidebar ******/

// Mutual server icons
div[class*="listAvatar_"] {
	border-radius: 100%;
}

/****** Typing dots indicators ******/

@keyframes typing-dots-cycle {
	0% {
		color: rgba(245 245 245 / 5%);
	}

	30% {
		color: rgba(245 245 245 / 10%);
	}

	50% {
		color: rgba(245 245 245 / 70%);
	}

	70% {
		color: rgba(245 245 245 / 20%);
	}

	100% {
		color: rgba(245 245 245 / 5%);
	}
}

// Animate the typing dots
.full-motion svg[class*="dots_"] > g {
	& > circle {
		animation: typing-dots-cycle 4s ease infinite;
	}

	& > circle:nth-child(2) {
		animation-delay: 200ms;
	}

	& > circle:nth-child(3) {
		animation-delay: 400ms;
	}
}

// Better spacing
div[class^="typingDots_"] {
	gap: var(--spacing-4);
}

/****** Context Menus ******/

div[class^="menu_"], div[class^="submenu_"] {
	--header-primary: var(--white-560); // text color

	background-color: var(--dracula-tertiary);
	box-shadow: var(--shadow-low);
	border-radius: 8px;
	border: none;

	& > div {
		padding: 8px 10px;
	}

	// Fix emoji sizing
	div[class^="customItem_"] > div {
		border-radius: 100px !important;

		img {
			height: 22px;
			width: 22px;
			image-rendering: smooth;
		}
	}
}

/****** Other Popouts ******/

div[class^="root_"],
div[class^="container_"],
div[class^="tooltip_"],
div[class^="scroller_"],
div[class^="confirmation_"],
div[class^="formNotice_"],
div[class^="preview_"],
section,
{
	border: none !important;
}

div[class^="wrapper_"] {
	box-shadow: none !important;
}

div[class^="popout_"] {
	border-radius: var(--radius-sm);
	background-color: var(--dracula-tertiary);
}

// Reaction info popout
div[class^="popoutContainer_"] {
	box-shadow: var(--shadow-medium) !important;
	background-color: var(--dracula-tertiary) !important;
}

// Threads list hover pop out's "See All" text button
div[class^="more_"] {
	border-top: none;
	padding-top: 0;
	padding-bottom: 16px;
}
